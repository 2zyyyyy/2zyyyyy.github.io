{"pages":[{"title":"categories","text":"","link":"/categories/index.html"},{"title":"about","text":"","link":"/about/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}],"posts":[{"title":"Java-图书管理系统","text":"模拟借书系统，任务要求： 感觉自己的写出来的代码不够简洁，参考了其他的案例写了一个，效果如下：结构：运行异常1：运行异常2：运行异常3：正常运行：1、名称查询2、序号查询：Book.java: 123456789101112package com.tony;/* * 图书租赁系统 */public class Book { public String bookName; public int bookId; public Book(String bookName, int bookId){ this.bookName = bookName; this.bookId = bookId; } } 自定义异常类MyException.java: 12345678910package com.tony;/* * 自定义异常类 */public class MyException extends Exception{ //有参构造方法 public MyException(String message) { super(message); };} BorrowBook.java: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091package com.tony;import java.util.ArrayList;import java.util.Arrays;import java.util.List;import java.util.Scanner;/* * 主程序 */public class BorrowBook { Book book [] = {new Book(&quot;高等数学&quot;, 1), new Book(&quot;大学英语&quot;, 2), new Book(&quot;Android&quot;, 3), new Book(&quot;会计基础&quot;, 4)}; public List&lt;Book&gt; listBooks; //无参构造方法 public BorrowBook() { this.listBooks = new ArrayList&lt;Book&gt;(); } public void addBook(){ listBooks.addAll(Arrays.asList(book)); } public void systemOut() { System.out.println(&quot;*******欢迎使用借书系统*******&quot;); System.out.println(&quot;*-*-*-*图书一览表：*-*-*-*&quot;); System.out.println(&quot; 书名&quot; + &quot;\\t\\t&quot; + &quot;序号&quot;); for(Book book:listBooks) { System.out.println(book.bookName + &quot;\\t\\t &quot; +book.bookId); } } private Scanner scanner = new Scanner(System.in); public static void main(String[] args) { BorrowBook borrowBook = new BorrowBook(); borrowBook.addBook(); borrowBook.systemOut(); while(true) { System.out.println(&quot;输入命令：1-按照名称查找图书;2-按照序号查找图书&quot;); switch (borrowBook.scanf()) { case 1://根据用户不同的输入内容执行 try { System.out.println(&quot;书籍：&quot; + borrowBook.findByName()); break; } catch (Exception e) { System.out.println(e.getMessage()); continue; } case 2: try { System.out.println(&quot;书籍：&quot; + borrowBook.findById()); break; } catch (Exception e) { System.out.println(e.getMessage()); continue; } default: System.out.println(&quot;命令错误，请重试.&quot;); continue; } break; } borrowBook.scanner.close(); } public String findByName() throws MyException{ System.out.println(&quot;*****请输入书籍的名称--&gt;&quot;); String name = scanner.next(); for (Book books : book) { if (name.equals(books.bookName)) { return books.bookName + &quot;\\t序号：&quot; +books.bookId; } } throw new MyException(&quot;名称错误，请重试.&quot;); } public String findById() throws MyException { System.out.println(&quot;*****请输入书籍的序号--&gt;&quot;); int in = scanner.nextInt(); for (int i = 0; i &lt; book.length; i++) { if (in == (i + 1)) { return book[i].bookName + &quot;\\t序号：&quot; + (i+1); } } throw new MyException(&quot;下标越界，请重试.&quot;); } public int scanf() { try { int in = scanner.nextInt(); return in; } catch(Exception e) { scanner = new Scanner(System.in); return -1; } }}","link":"/2019/12/26/Java-%E5%9B%BE%E4%B9%A6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"},{"title":"Android RecyclerView实现复杂列表布局","text":"​ 这次学习的内容是使用RecyclerView来实现一些较为复杂的布局，比如一个item： 最左边是一个imageview，中间部分为textView，textView下面又是一个textView，最右边为一个imageview。 1、首先在activity_main.xml中添加RecyclerView，随后正如之前所说的分别针对左中右新建3个XML布局文件命名为item_type_one、two、three.随后对其进行布局配置。2、新建一个adapter添加模拟数据。然后针对布局新建三个viewholder。随后新建一个抽象类TypeAbstractViewHolder，将三个viewholder用到的同一个方法封装起来调用,将三个viewHolder继承自抽象类。为了优雅。activity_main.xml: 1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:id=&quot;@+id/activity_main&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot; android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot; android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot; android:paddingTop=&quot;@dimen/activity_vertical_margin&quot; tools:context=&quot;com.example.tony.recyclerviewdemo.MainActivity&quot;&gt; &lt;android.support.v7.widget.RecyclerView android:id=&quot;@+id/recycleView&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;&gt; &lt;/android.support.v7.widget.RecyclerView&gt;&lt;/RelativeLayout&gt; item_type_one.xml: 12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;60dp&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:background=&quot;@android:color/white&quot; android:gravity=&quot;center_vertical&quot; android:orientation=&quot;horizontal&quot;&gt; &lt;ImageView android:id=&quot;@+id/avatar&quot; android:layout_width=&quot;40dp&quot; android:layout_height=&quot;40dp&quot; android:layout_marginLeft=&quot;20dp&quot; /&gt; &lt;TextView tools:text = &quot;月满轩尼诗&quot; android:id=&quot;@+id/name&quot; android:layout_marginLeft=&quot;20dp&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; /&gt;&lt;/LinearLayout&gt; item_type_two.xml: 1234567891011121314151617181920212223242526272829303132333435363738&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;60dp&quot; android:background=&quot;@android:color/white&quot; android:gravity=&quot;center_vertical&quot; android:orientation=&quot;horizontal&quot;&gt; &lt;ImageView android:id=&quot;@+id/avatar&quot; android:layout_width=&quot;40dp&quot; android:layout_height=&quot;40dp&quot; android:layout_marginLeft=&quot;20dp&quot; /&gt; &lt;LinearLayout android:layout_marginLeft=&quot;20dp&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:orientation=&quot;vertical&quot;&gt; &lt;TextView android:id=&quot;@+id/name&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; tools:text=&quot;月满轩尼诗&quot; /&gt; &lt;TextView android:id=&quot;@+id/content&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;5dp&quot; tools:text=&quot;月满轩尼诗是一部好电影吗？&quot; /&gt; &lt;/LinearLayout&gt;&lt;/LinearLayout&gt; item_type_three.xml: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;60dp&quot; android:background=&quot;@android:color/white&quot; android:gravity=&quot;center_vertical&quot; android:orientation=&quot;horizontal&quot;&gt; &lt;ImageView android:id=&quot;@+id/avatar&quot; android:layout_width=&quot;40dp&quot; android:layout_height=&quot;40dp&quot; android:layout_centerVertical=&quot;true&quot; android:layout_marginLeft=&quot;20dp&quot; /&gt; &lt;ImageView android:id=&quot;@+id/contentImage&quot; android:layout_width=&quot;100dp&quot; android:layout_height=&quot;60dp&quot; android:layout_alignParentRight=&quot;true&quot; android:layout_centerVertical=&quot;true&quot; android:layout_marginLeft=&quot;20dp&quot; android:layout_marginRight=&quot;20dp&quot; /&gt; &lt;LinearLayout android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginLeft=&quot;20dp&quot; android:orientation=&quot;vertical&quot; android:layout_centerVertical=&quot;true&quot; android:layout_toRightOf=&quot;@+id/avatar&quot; android:layout_toEndOf=&quot;@+id/avatar&quot; android:layout_marginStart=&quot;20dp&quot;&gt; &lt;TextView android:id=&quot;@+id/name&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; tools:text=&quot;月满轩尼诗&quot; /&gt; &lt;TextView android:id=&quot;@+id/content&quot; android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot; android:layout_marginTop=&quot;5dp&quot; tools:text=&quot;月满轩尼诗是一部好电影吗？&quot; /&gt; &lt;/LinearLayout&gt;&lt;/RelativeLayout&gt; 这边提一个小技巧，一般textview如果不设置文本内容的话是无法预览的，这里我们在属性中添加一个：tools:text=”abc”;这个时候abc就会在UI上面显示出来了，而且abc也不用加入string.xml. Java文件：MAinActivity.class 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.example.tony.recyclerviewdemo;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.support.v7.widget.LinearLayoutManager;import android.support.v7.widget.RecyclerView;import java.util.ArrayList;import java.util.List;public class MainActivity extends AppCompatActivity { private RecyclerView mRecyclerView; private DemoAdapter mAdapter; int colors[] = {android.R.color.holo_blue_light, android.R.color.holo_orange_light, android.R.color.holo_red_light}; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mRecyclerView = (RecyclerView) findViewById(R.id.recycleView); mRecyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false)); mAdapter = new DemoAdapter(this); mRecyclerView.setAdapter(mAdapter); initData(); } private void initData() { List&lt;DataModel&gt; list = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; 20; i++) { int type = (int) (Math.random() * 3 + 1); DataModel data = new DataModel(); data.avatarColor = colors[type - 1]; data.type = type; data.name = &quot;Name: &quot; + i; data.content = &quot;Content: &quot; + i; data.contentColor = colors[(type + 1) % 3]; list.add(data); } mAdapter.addList(list); mAdapter.notifyDataSetChanged(); }} DemoAdapter.class 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package com.example.tony.recyclerviewdemo;import android.content.Context;import android.support.v7.widget.RecyclerView;import android.view.LayoutInflater;import android.view.ViewGroup;import java.util.ArrayList;import java.util.List;/* * Created by Tony on 2016/12/3. */public class DemoAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{ private LayoutInflater mLayoutInflater; private List&lt;DataModel&gt; mList = new ArrayList&lt;&gt;(); public DemoAdapter(Context context) { mLayoutInflater = LayoutInflater.from(context); } public void addList(List&lt;DataModel&gt; list) { mList.addAll(list); } @Override public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) { switch (viewType) { case DataModel.TYPE_ONE: return new TypeOneViewHolder(mLayoutInflater.inflate(R.layout.item_type_one, parent, false)); case DataModel.TYPE_TWO: return new TypeTwoViewHolder(mLayoutInflater.inflate(R.layout.item_type_two, parent, false)); case DataModel.TYPE_THREE: return new TypeThreeViewHolder(mLayoutInflater.inflate(R.layout.item_type_three, parent, false)); } return null; } @Override public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) { ((TypeAbstractViewHolder) holder).bindHolder(mList.get(position)); } @Override public int getItemViewType(int position) { return mList.get(position).type; } @Override public int getItemCount() { return mList.size(); }} DataModel.class 123456789101112131415161718192021222324package com.example.tony.recyclerviewdemo;/** * Created by Tony on 2016/12/3. */public class DataModel { public static final int TYPE_ONE = 1; public static final int TYPE_TWO = 2; public static final int TYPE_THREE = 3; public int type; public int avatarColor; public String name; public String content; public int contentColor;} TypeAbstractViewHolder.class 12345678910111213141516package com.example.tony.recyclerviewdemo;import android.support.v7.widget.RecyclerView;import android.view.View;/** * Created by Tony on 2016/12/3. */public abstract class TypeAbstractViewHolder extends RecyclerView.ViewHolder{ public TypeAbstractViewHolder(View itemView) { super(itemView); } public abstract void bindHolder(DataModel model);} TypeOneViewHolder.class 1234567891011121314151617181920212223242526272829package com.example.tony.recyclerviewdemo;import android.view.View;import android.widget.ImageView;import android.widget.TextView;/** * Created by Tony on 2016/12/3. */public class TypeOneViewHolder extends TypeAbstractViewHolder { private ImageView avatar; private TextView name; public TypeOneViewHolder(View itemView) { super(itemView); avatar = (ImageView) itemView.findViewById(R.id.avatar); name = (TextView) itemView.findViewById(R.id.name); } //ViewHolder数据和外面数据绑定起来 @Override public void bindHolder(DataModel model) { avatar.setBackgroundResource(model.avatarColor); name.setText(model.name); }} TypeTwoViewHolder.class 12345678910111213141516171819202122232425262728293031323334package com.example.tony.recyclerviewdemo;import android.support.v7.widget.RecyclerView;import android.view.View;import android.widget.ImageView;import android.widget.TextView;/** * Created by Tony on 2016/12/3. */public class TypeTwoViewHolder extends TypeAbstractViewHolder { private ImageView avatar; private TextView name; private TextView content; public TypeTwoViewHolder(View itemView) { super(itemView); avatar = (ImageView) itemView.findViewById(R.id.avatar); name = (TextView) itemView.findViewById(R.id.name); content = (TextView) itemView.findViewById(R.id.content); } //ViewHolder数据和外面数据绑定起来 @Override public void bindHolder(DataModel model) { avatar.setBackgroundResource(model.avatarColor); name.setText(model.name); content.setText(model.content); }} TypeThreeViewHolder.class 12345678910111213141516171819202122232425262728293031323334353637package com.example.tony.recyclerviewdemo;import android.view.View;import android.widget.ImageView;import android.widget.TextView;/** * Created by Tony on 2016/12/3. */public class TypeThreeViewHolder extends TypeAbstractViewHolder { private ImageView avatar; private TextView name; private TextView content; private ImageView contentImage; public TypeThreeViewHolder(View itemView) { super(itemView); avatar = (ImageView) itemView.findViewById(R.id.avatar); contentImage = (ImageView) itemView.findViewById(R.id.contentImage); name = (TextView) itemView.findViewById(R.id.name); content = (TextView) itemView.findViewById(R.id.content); } //ViewHolder数据和外面数据绑定起来 @Override public void bindHolder(DataModel model) { avatar.setBackgroundResource(model.avatarColor); name.setText(model.name); contentImage.setBackgroundResource(model.contentColor); content.setText(model.content); }}","link":"/2019/12/26/Android-RecyclerView%E5%AE%9E%E7%8E%B0%E5%A4%8D%E6%9D%82%E5%88%97%E8%A1%A8%E5%B8%83%E5%B1%80/"},{"title":"Java 装饰者","text":"Java 当中的io流 今天记录下关于装饰者的学习一、处理流使用实例 1、本地新建一个users文本文档（刚入门没有使用IDE，都是在字符界面下进行编译和运行的，用文本文档进行代码的编写），内容如下： 张三 最强王者 850点 李四 超凡大师 700点 赵武 璀璨砖石 85点 王八 最强青铜 0点 刘六 不屈白银 25点 孙九 荣耀黄金 35点 //随便写的哈哈哈; //目的就是使用节点流来读取文件（单位：行）； 2、新建Test.java文件（.txt改一下后缀名即可，看不到的同学记得文件夹选项中点了显示已知文件和文件夹后缀名的选项；）下面贴代码： `//导入类java.io.*;12345678910111213141516171819202122232425262728293031class Test{ public static void main(String args []){ FileReader filereader = null; BufferedReader bufferedreader = null; try{ filereader = new FileReader(&quot;e:/eclipse/src/2016.02.25/users.txt&quot;); bufferedreader = new BufferedReader(filereader); String line = null; while(true){ line = bufferedreader.readLine(); if(line == null){ break; } System.out.println(line); } } catch(Exception e){ System.out.println(e); } finally{ try{ filereader.close(); bufferedreader.close(); } catch(Exception e){ System.out.println(e); } } }}` 3、编译运行 ==》win+R -- cmd -- 文件件路径输进去 -- javac *.java -- java Test 结果就是![运行结果](http://img.blog.csdn.net/20160302145715612)二：“装饰者”模式 1、举个Mars老师的例子吧 就是有一个工人的类 下面又分为各种工人比如说（水管工 木匠工 等等） 然后工人们又分为有A 公司的，B公司的，C公司的一次类推，如果每个工人都要写一个类的话，我们假设有N个工种，有M个公司，那么我们需要新建的class的个数就是：M*N个 这点很明显不符合计算机语言的做法，编程就是去繁化简，争取消灭所有的重复性的代码。因此就需要用到“装饰者”模式了。 2、新建一个接口名为 Aworker： Worker{1234567891011121314151617181920212223242526272829303132333435363738394041 public void doSomeWorker();} 新建水管工、木匠工、A公司、B公司类 //水管工 class Plumber implements Worker{ public void doSomeWorker(){ System.out.println(&quot;修水管！！！&quot;); }} //木匠工 class Carpenter implements Worker{ public void doSomeWorker(){ System.out.println(&quot;修门窗！！！&quot;); }} //A公司 class Aworker implements Worker{ private Worker worker; public Aworker(Worker worker){ this.worker = worker; } public void doSomeWorker(){ System.out.println(&quot;你好&quot;); worker.doSomeWorker(); }} //B公司 class Bworker implements Worker{ private Worker worker; public Bworker(Worker worker){ this.worker = worker; } public void doSomeWorker(){ System.out.println(&quot;我要带鞋套@@@@&quot;); worker.doSomeWorker(); }} 最后新建一个主函数来运行程序​ Test01{123456789101112 public static void main(String args []){ //生成一个A公司水管工的对象 Plumber plumber = new Plumber(); Aworker aworker1 = new Aworker(plumber); aworker1.doSomeWorker(); //生成一个B公司的木匠工对象 Carpenter carpenter = new Carpenter(); Bworker bworker1 = new Bworker(carpenter); bworker1.doSomeWorker(); }} 运行结果：![运行结果](http://img.blog.csdn.net/20160302151838939)三、节点流与处理流之间的关系 FileReader在（被装饰者）就是节点流，是真正读取数据的（单位：字符） 而处理流（装饰者）就是用来 给节点流添加功能的 ，使得前者可以一行一行的读取数据（BufferedReader）.","link":"/2019/12/26/Java-%E8%A3%85%E9%A5%B0%E8%80%85/"},{"title":"Allure测试报告","text":"关于Allure2 + Pytest 组合生成的测试报告之前在公司组内也有做过分享，今天在blog这边在记录一下。 ​ 这边分为5个步骤，系统是macOS 10.12，这边不涉及环境配置比如Python、Java环境。 Step1: 安装依赖包 Pip install pytest Pip install allure Pip install allure-pytest Pip install allure-python-commons *macOS 不建议在brew环境安装第三方依赖，路径问题会导致各种异常。 Step2: 创建项目创建项目Demo report下面2个目录是分别存放2个格式的测试报告，默认pytest执行的用例结果放在xml下，是json格式的，需要命令转换成html格式的测试报告存放于xml下。 Step3: 设计用例原则 文件名以test_.py文件和_test.py 以test_开头的函数 以Test开头的类 以test_开头的方法 不支持类init初始化 可使用@pytest.fixture() testcase：校验登录接口返回 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364# @File:test_02.py# @Author:2zyyyyy# @Time:2019年04月25日# @Explain:import allureimport jsonimport requestsimport pytestclass TestDemo: @staticmethod @allure.step('post 请求获取接口返回结果') def login(): url = 'http://192.168.0.000:8071/auth-service/login' headers = { 'Content-Type': 'application/json;charset=UTF-8' } payload = { &quot;userMobile&quot;: &quot;00000000000&quot;, &quot;systemId&quot;: &quot;000&quot;, &quot;terminalType&quot;: &quot;000&quot;, &quot;password&quot;: &quot;000000&quot; } response = requests.post(url=url, data=json.dumps(payload), headers=headers) result = response.json() result_dict = dict() result_dict['code'] = result['code'] result_dict['description'] = result['description'] return result_dict @allure.feature('登录功能') @allure.story('验证参数1') def test_01(self): &quot;&quot;&quot; 校验返回值是否为0000 &quot;&quot;&quot; with allure.step('获取请求返回的code值'): code = TestDemo.login() with allure.step('校验结果'): allure.attach('期望结果', '0000') allure.attach('实际结果', '0000') assert code['code'] == '0000' @allure.feature('登录功能') @allure.story('验证参数2') def test_02(self): &quot;&quot;&quot; 校验description是否为oh yeah,通过了 &quot;&quot;&quot; with allure.step('获取接口返回的description'): desc = TestDemo.login() with allure.step('校验结果'): allure.attach('期望结果', 'oh yeah,通过了') allure.attach('实际结果', 'oh yeah,通过了') assert desc['description'] == 'oh yeah,通过了'if __name__ == '__main__': pytest.main(['-s', '-q', '--alluredir', '/AllureDemo/report/xml(json格式结果存放路径)', 'test_02.py']) pytest.main(['allure', 'generate', '/AllureDemo/report/xml(json格式结果存放路径)', '-o', '/AllureDemo/report/html(html格式结果存放路径)']) 一个登录，2条用例。main里面的2个命令分别执行用例生成结果，最后将json结果转换HTML格式。 Step4: 生成Allure测试报告一共有2步 先生成json格式的在转换成HTML格式①在项目终端执行pytest –s –q –alluredir [XML格式文件夹]②第一步没有异常执行allure generate ./report/xml -o ./report/html –clean第一个目录是生成XML格式报告的路径 第二个目录是生成HTML报告的路径 ###Step5：查看结果报告 打开./report/html/index.html 选择浏览器打开 Pytest命令拓展 pytest -v [caseDir] # 运行指定目录中所有用例 pytest -v [caseDir]/test_01.py 运行指定文件中的所有用例 pytest -v [caseDir ]/test_02.py::TestDemo 运行指定文件中的测试类 pytest -v [caseDir ]/test_01.py::test_001 运行指定测试用例函数","link":"/2019/12/27/Allure%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"},{"title":"Jenkins(Win)构建失败,提示：xx不是内部或外部命令 也不是可运行程序或批处理文件","text":"最近在Windows上面玩Jenkins，创建demo项目之后想让他执行Python -m 命令，提示我该命令不是内部或外部命令 也不是可运行程序或批处理文件， 但是win+R下面运行又是正常的，查询了一下其他博主发现是环境变量没有配置导致的问题。下面就简单介绍一下如果遇到这个问题应该如何解决吧。 Step1:Jenkins首页-点击[构建执行状态] ###Step2: 找到右上角的[设置]按钮，点击 Step3：​ 跳转到设置页面： 新增一个[path]环境变量，值有2部分组成：1是Python文件夹 2是文件夹下Scripts目录,中间分号隔开，点击保存。 Step5:重新构建项目，查看控制台输出","link":"/2019/12/30/Jenkins-Windows-%E6%9E%84%E5%BB%BA%E5%A4%B1%E8%B4%A5-%E6%8F%90%E7%A4%BA-pytest-%E4%B8%8D%E6%98%AF%E5%86%85%E9%83%A8%E6%88%96%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4-%E4%B9%9F%E4%B8%8D%E6%98%AF%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F%E6%88%96%E6%89%B9%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6/"},{"title":"我的第一篇Hexo博客","text":"原CSDN博客迁移说明https://blog.csdn.net/qq_31568297 这是在CSDN上的博客地址之前由于账户异常原因无法登录，现将迁移至Hexo目前该网站内容暂未做填充，内容会慢慢迁移过来，平时工作学习生活也将在这里记录","link":"/2019/12/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87hexo%E5%8D%9A%E5%AE%A2/"},{"title":"数据平台基础记录","text":"ETL(Extraction-Transformation-Loading) 数据抽取、转换和加载 ODS —— 操作性数据 DW —— 数据仓库 DM —— 数据集市 模糊查询表名 show tables like ‘name‘ 查看表结构信息 desc formatted 表名 统计数据验证 1、基础数据 新增用户 / 活跃用户 / 启动/访问次数 / 人均使用时长 检查数据发现当用户未登录状态时，写入的user_event.user_id为空 统计结果时未作区分 20190816当天数据都是未登录状态下产生的 统计结果新增和活跃用户均为：1 查询当日活跃用户数量 「表名」-「user_page」 SELECT count(*) as total FROM (SELECT count(*) FROM datacenter.user_event where created_ymd = '20190819' GROUP BY user_id) a ; 统计当日页面停留时长 1️⃣规则：有A、B两个页面 统计页面停留时长 A页面停留时长=B.开始时间 - A.开始时间 B页面停留时长=B.end_time - b.start_time – 计算人均使用时长 – 时间不允许就用了比较麻烦的办法 一共三条SQL – ①先查询出当日所有活跃用户数 ②在查询出当日生成的所有trackID③计算每个trackID的时长（因为最后一条数据是需要end_time-start_time 所以单独计算）所有trackID相加为当日用户在线时长 – ① 统计当日活跃用户数 SELECT COUNT(*) AS '当日活跃用户数' FROM (SELECT * FROM datacenter.user_page where created_ymd = '20190819' GROUP BY track_id) a; – ②查询当日所有trackID SELECT ​ track_id FROM ​ datacenter.user_page WHERE ​ created_ymd = '20190922' GROUP BY ​ track_id; # ③计算某个trackid的时长（2结果相加为当前trackID时长） SELECT ​ sum( ​ ( ​ UNIX_TIMESTAMP(e.start_time) - UNIX_TIMESTAMP(b.start_time) ​ ) ​ ) AS '当前trackID时长', (SELECT ​ (UNIX_TIMESTAMP(end_time) - UNIX_TIMESTAMP((start_time))) AS '最后一条时长' FROM datacenter.user_page WHERE track_id = '135A6B1B-E35A-4CA4-953E-E670F6339AE3' ORDER BY ​ start_time DESC LIMIT 1) AS '最后一条的时长' FROM ​ ( ​ SELECT ​ a.start_time, ​ (@i := @i + 1) AS ord_num ​ FROM ​ user_page a, ​ (SELECT @i := 1) d ​ WHERE ​ a.track_id = '135A6B1B-E35A-4CA4-953E-E670F6339AE3' ​ ORDER BY ​ a.start_time ​ ) b INNER JOIN ( ​ SELECT ​ a.start_time, ​ (@j := @j + 1) AS ord_num ​ FROM ​ user_page a, ​ (SELECT @j := 0) c ​ WHERE ​ a.track_id = '135A6B1B-E35A-4CA4-953E-E670F6339AE3' ​ ORDER BY ​ a.start_time ) e ON b.ord_num = e.ord_num;","link":"/2020/01/07/%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%8F%B0%E5%9F%BA%E7%A1%80%E8%AE%B0%E5%BD%95/"},{"title":"本地图片测试","text":"测试图片显示本地图片显示测试 1、方式有多种 我采用的是引用本地绝对路径 当然你也可以引用相对路径或者标签插件2、无须设置_config.yml中的post_asset_folder 默认为true 默认为false3、文章中图片使用！[](图片路径)如果是缩略图的话需要在icarus中的_config.yml.thumbnail设置为true,随后在文章的头部新增该标签，放入图片路径。thumbnail: /images/***.jpg","link":"/2019/12/25/%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/"},{"title":"自动化测试发送邮件异常","text":"​ 今天在学习发送邮件的时候遇到了几个问题，这边一是记录一下 二是给同样遇到问题的同学解惑 1、这个问题我发生的原因是163邮箱 SMTP协议未开启，如果已开启还是报这个错误尝试重新开启一次。开启之后是设置变量也好还是input密码记住不能用163邮箱的登录密码，而是需要使用设置的客户端授权密码。以上针对我出现的这个问题得到了解决。2、看廖雪峰的简单邮件实例发现自己运行后报554，官方解释就是被屏蔽了。 1234567891011121314151617181920from email.mime.text import MIMETextimport smtplibfrom email.header import Headermsg = MIMEText('真的不知道是什么原因', 'plain', 'utf-8')# 输入Email地址和口令:from_addr = 'xxx@163.com'password = '客户端授权密码'# 输入收件人信息:to_addr = 'xxx@qq.com'# 输入SMTP服务器地址:smtp_server = 'smtp.163.com'server = smtplib.SMTP(smtp_server, 25) # SMTP协议默认端口是25server.set_debuglevel(1) # 打印出和SMTP服务器交互的所有信息server.login(from_addr, password)server.sendmail(from_addr, [to_addr], msg.as_string())server.quit()print('success') 这样的163–&gt;qq 邮箱的（别的我没有试过）是不会成功的，一直报554的错误。我网上找了几个办法好像都行不通。后来我仔细琢磨了一下屏蔽原因会不会是右键内容太过单调而导致的呢。于是我新增了几个属性 123msg['Subject'] = Header('放假通知', 'utf-8')msg['From'] = 'xxx@163.com'msg['To'] = &quot;xxx@qq.com&quot; 运行成功。","link":"/2019/12/25/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E5%BC%82%E5%B8%B8-554/"}],"tags":[{"name":"学习","slug":"学习","link":"/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"移动开发","slug":"移动开发","link":"/tags/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/"},{"name":"安卓","slug":"安卓","link":"/tags/%E5%AE%89%E5%8D%93/"},{"name":"Allure2","slug":"Allure2","link":"/tags/Allure2/"},{"name":"Pytest","slug":"Pytest","link":"/tags/Pytest/"},{"name":"测试报告","slug":"测试报告","link":"/tags/%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"},{"name":"jenkins","slug":"jenkins","link":"/tags/jenkins/"},{"name":"CI/CD","slug":"CI-CD","link":"/tags/CI-CD/"},{"name":"可持续集成","slug":"可持续集成","link":"/tags/%E5%8F%AF%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/"},{"name":"windows","slug":"windows","link":"/tags/windows/"},{"name":"其他","slug":"其他","link":"/tags/%E5%85%B6%E4%BB%96/"},{"name":"数据","slug":"数据","link":"/tags/%E6%95%B0%E6%8D%AE/"},{"name":"大数据测试","slug":"大数据测试","link":"/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B5%8B%E8%AF%95/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"Smtplib","slug":"Smtplib","link":"/tags/Smtplib/"},{"name":"Email","slug":"Email","link":"/tags/Email/"}],"categories":[{"name":"Java","slug":"Java","link":"/categories/Java/"},{"name":"Android","slug":"Android","link":"/categories/Android/"},{"name":"Pytest","slug":"Pytest","link":"/categories/Pytest/"},{"name":"Jenkins","slug":"Jenkins","link":"/categories/Jenkins/"},{"name":"其他","slug":"其他","link":"/categories/%E5%85%B6%E4%BB%96/"},{"name":"大数据","slug":"大数据","link":"/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"Python","slug":"Python","link":"/categories/Python/"}]}